{"level":"info","time":"2022-04-17 14:24:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000231438,"trace_id":"585fe5d9b4faded4b074","trace_info":{"trace_id":"585fe5d9b4faded4b074","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8qh1Kl6S0cJKVzYWlofsiAbe5vyHokGxhIIez1vfays=","Authorization-Date":"2022-04-17 14:24:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["585fe5d9b4faded4b074"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000231214},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000231438},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-04-17 14:27:16","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.043803377,"trace_id":"68e0079c1d0cb71ec624","trace_info":{"trace_id":"68e0079c1d0cb71ec624","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin wkAnVFTXzR2yKax9L17S7m6/DHQgzQ3HNZhgSb3JEUs=","Authorization-Date":"2022-04-17 14:27:16","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["68e0079c1d0cb71ec624"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.043803058},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010724368},{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.004160875},{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.004726413},{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002462852},{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.004187082}],"redis":[{"timestamp":"2022-04-17 14:27:16","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001261268},{"timestamp":"2022-04-17 14:27:16","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001222876},{"timestamp":"2022-04-17 14:27:16","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.013997141}],"success":true,"cost_seconds":0.043803377}}
{"level":"info","time":"2022-04-17 14:27:16","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011854437,"trace_id":"041e6ec9eb4d76ff3faa","trace_info":{"trace_id":"041e6ec9eb4d76ff3faa","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin yj0y6JubYdnBipRRR9sVYTla7PlSHUa4OYzlkraC2Sg=","Authorization-Date":"2022-04-17 14:27:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["041e6ec9eb4d76ff3faa"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011853962},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-17 14:27:16","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004282109}],"redis":[{"timestamp":"2022-04-17 14:27:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002488776},{"timestamp":"2022-04-17 14:27:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002522601}],"success":true,"cost_seconds":0.011854437}}
{"level":"info","time":"2022-04-17 14:49:58","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011161717,"trace_id":"4bafb391923e049e37a5","trace_info":{"trace_id":"4bafb391923e049e37a5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin FPLb7l+aG8QCnTjh7CS7w9c6uwQBr/hl4EH7fZrnJGM=","Authorization-Date":"2022-04-17 14:49:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4bafb391923e049e37a5"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011160983},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-17 14:49:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002492903},{"timestamp":"2022-04-17 14:49:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.002035533}],"success":true,"cost_seconds":0.011161717}}
{"level":"info","time":"2022-04-17 14:49:58","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009715079,"trace_id":"f52b9a20d6648c841af8","trace_info":{"trace_id":"f52b9a20d6648c841af8","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin eZ2hcMLsWX32EuO8qWMKV8YaZ2PJPXp3F+uBdtiXpBQ=","Authorization-Date":"2022-04-17 14:49:58","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f52b9a20d6648c841af8"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"},{"table_name":"order","table_comment":"订单表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009714711},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-17 14:49:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002657057},{"timestamp":"2022-04-17 14:49:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.00093197}],"success":true,"cost_seconds":0.009715079}}
{"level":"info","time":"2022-04-17 14:50:01","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.006209318,"trace_id":"e8068cd584917f3e8e08","trace_info":{"trace_id":"e8068cd584917f3e8e08","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin a6tWEnI93CHjNfTl7f3Przcd0FSjL61ENjJ6tOYjB3A=","Authorization-Date":"2022-04-17 14:50:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e8068cd584917f3e8e08"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.006208194},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-17 14:50:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000889187},{"timestamp":"2022-04-17 14:50:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001662158}],"success":true,"cost_seconds":0.006209318}}
{"level":"info","time":"2022-04-17 14:50:01","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009297247,"trace_id":"17cc9d9a3b774df24758","trace_info":{"trace_id":"17cc9d9a3b774df24758","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin ZhUKnwT4SC7AaYqAJsCce8bxAOywVetGKUKQk9ntYeg=","Authorization-Date":"2022-04-17 14:50:01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["17cc9d9a3b774df24758"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"},{"table_name":"order","table_comment":"订单表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009296914},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-17 14:50:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000931538},{"timestamp":"2022-04-17 14:50:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001027495}],"success":true,"cost_seconds":0.009297247}}
{"level":"info","time":"2022-04-17 14:51:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/graphql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.000342536,"trace_id":"1da10b8c8481c157a5d2","trace_info":{"trace_id":"1da10b8c8481c157a5d2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/graphql","header":{"Authorization":"","Authorization-Date":"","Content-Type":"","Token":""},"body":""},"response":{"header":{"Content-Type":["text/html"],"Trace-Id":["1da10b8c8481c157a5d2"],"Vary":["Origin"]},"body":null,"http_code":200,"http_code_msg":"OK","cost_seconds":0.000342087},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.000342536}}
{"level":"info","time":"2022-04-17 14:51:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.000992877,"trace_id":"71a9023b3bae0fc0fc96","trace_info":{"trace_id":"71a9023b3bae0fc0fc96","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Authorization":"","Authorization-Date":"","Content-Type":"application/json","Token":""},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Trace-Id":["71a9023b3bae0fc0fc96"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]},{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]}]}},"extensions":{"trace_id":"71a9023b3bae0fc0fc96"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.000992627},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.000992877}}
{"level":"error","time":"2022-04-17 16:06:54","caller":"socket/socket_on_message.go:14","msg":"socket on message error","domain":"go-gin-api[fat]","error":"websocket: close 1006 (abnormal closure): unexpected EOF"}
{"level":"fatal","time":"2022-05-08 11:10:21","caller":"router/router.go:52","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused","errorVerbose":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/router.go:50\nmain.main\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/main.go:65\nruntime.main\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/proc.go:255\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-08 11:10:41","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000330875,"trace_id":"b4e29223f0952575ac4d","trace_info":{"trace_id":"b4e29223f0952575ac4d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin /UWdQ8JhiQ4pFBYQS+H6b8P6G5M4ZKnS2qADiACVEkM=","Authorization-Date":"2022-05-08 11:10:41","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b4e29223f0952575ac4d"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000330355},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000330875},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-09 13:55:29","caller":"router/router.go:52","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused","errorVerbose":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/router.go:50\nmain.main\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/main.go:65\nruntime.main\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/proc.go:255\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-09 13:57:16","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000600388,"trace_id":"9080b792a7db29e2ee94","trace_info":{"trace_id":"9080b792a7db29e2ee94","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin IJHaydncZzB7HZoxAnFUaaweh9gf0LQmehPEflcxhYg=","Authorization-Date":"2022-05-09 13:57:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9080b792a7db29e2ee94"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000599885},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000600388},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-09 13:57:23","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000164867,"trace_id":"e26ec008150f1ccb7fa1","trace_info":{"trace_id":"e26ec008150f1ccb7fa1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin yfiURYzg6P1T1+QR4M8A2PJMcqegE0UDAR9JKJIMbi4=","Authorization-Date":"2022-05-09 13:57:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e26ec008150f1ccb7fa1"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.00016465},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000164867},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-09 13:58:10","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-09 13:58:11","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000320358,"trace_id":"84021fa339b35f2af734","trace_info":{"trace_id":"84021fa339b35f2af734","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin aScTI1dtZD9ltxvCqKpCnRzffc3bBX91HcWJwk6KVvY=","Authorization-Date":"2022-05-09 13:58:11","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["84021fa339b35f2af734"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000312411},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000320358},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-09 13:58:30","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-09 13:58:31","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000178197,"trace_id":"c0e067cdfc6a03277bd8","trace_info":{"trace_id":"c0e067cdfc6a03277bd8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 5GLWaWPQEuLUATYRWxbo3wvtqy2OzkfUdS6apwF39W8=","Authorization-Date":"2022-05-09 13:58:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c0e067cdfc6a03277bd8"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000176536},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000178197},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-09 13:58:47","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000308303,"trace_id":"788889cd2218190fdd27","trace_info":{"trace_id":"788889cd2218190fdd27","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 7TVQ52ctNDzz/ARBCHyhSeBE0/m94+Xho19u0bWSeYM=","Authorization-Date":"2022-05-09 13:58:47","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["788889cd2218190fdd27"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000307832},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000308303},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-09 13:58:55","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000110729,"trace_id":"081692b54319d181ff53","trace_info":{"trace_id":"081692b54319d181ff53","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin RDD6GET+jUqxZSQ6xs6k0L7bWBw52MX/JIPAVurSJWc=","Authorization-Date":"2022-05-09 13:58:55","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["081692b54319d181ff53"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000108366},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000110729},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-09 13:59:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.094255328,"trace_id":"59f09c9e7b7bdc887abd","trace_info":{"trace_id":"59f09c9e7b7bdc887abd","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin 8N4HW7Ln5OBKffrRnHmK6ufOII5JS7pTEF2g4U2DOMI=","Authorization-Date":"2022-05-09 13:59:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["59f09c9e7b7bdc887abd"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.094255093},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.04481778},{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.017272093},{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.013792959},{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003315217},{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.010487558}],"redis":[{"timestamp":"2022-05-09 13:59:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001495229},{"timestamp":"2022-05-09 13:59:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001079812},{"timestamp":"2022-05-09 13:59:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.000850754}],"success":true,"cost_seconds":0.094255328}}
{"level":"info","time":"2022-05-09 13:59:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.01386942,"trace_id":"b1f1b4028d36a3b7ffef","trace_info":{"trace_id":"b1f1b4028d36a3b7ffef","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lQboNmHsrPo5WSN63grpocLZjW4sZ6ByCrGYYxOxrLc=","Authorization-Date":"2022-05-09 13:59:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b1f1b4028d36a3b7ffef"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.013869085},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 13:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006087515}],"redis":[{"timestamp":"2022-05-09 13:59:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001705085},{"timestamp":"2022-05-09 13:59:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.004171368}],"success":true,"cost_seconds":0.01386942}}
{"level":"info","time":"2022-05-09 14:03:09","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.026021658,"trace_id":"920f9d942aabf67c99c2","trace_info":{"trace_id":"920f9d942aabf67c99c2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ++6IzdRkSgSdVu0u51jzXuuZcluTMDbBjfGdQCxdFpc=","Authorization-Date":"2022-05-09 14:03:09","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["920f9d942aabf67c99c2"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.026021081},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 14:03:09","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.018410158}],"redis":[{"timestamp":"2022-05-09 14:03:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002266594},{"timestamp":"2022-05-09 14:03:09","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002391569}],"success":true,"cost_seconds":0.026021658}}
{"level":"info","time":"2022-05-09 14:03:17","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.032414704,"trace_id":"9f83c3327016e5dd39d0","trace_info":{"trace_id":"9f83c3327016e5dd39d0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin QNpp89l3yMN2WnN55yfRNsDCyfcaLHuGmB3bcejS8GQ=","Authorization-Date":"2022-05-09 14:03:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9f83c3327016e5dd39d0"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.032414177},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 14:03:17","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.013061757}],"redis":[{"timestamp":"2022-05-09 14:03:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.008069955},{"timestamp":"2022-05-09 14:03:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.008225099}],"success":true,"cost_seconds":0.032414704}}
{"level":"info","time":"2022-05-09 14:07:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.054161123,"trace_id":"3b9927b895c18b289ff9","trace_info":{"trace_id":"3b9927b895c18b289ff9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin aNYauJi66gwtFkos/nDIDR5qJTySLiWJRafXzA8Ww0s=","Authorization-Date":"2022-05-09 14:07:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3b9927b895c18b289ff9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.054160625},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 14:07:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.018964072}],"redis":[{"timestamp":"2022-05-09 14:07:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.020690886},{"timestamp":"2022-05-09 14:07:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.004400602}],"success":true,"cost_seconds":0.054161123}}
{"level":"info","time":"2022-05-09 14:59:18","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.119349763,"trace_id":"87bc326aaf6f92318573","trace_info":{"trace_id":"87bc326aaf6f92318573","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin p5S24DnK0Vm1MTnRyyFlmms4xMO58OsPg64U3jGNveU=","Authorization-Date":"2022-05-09 14:59:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["87bc326aaf6f92318573"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.119055985},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 14:59:18","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.065339663}],"redis":[{"timestamp":"2022-05-09 14:59:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00850818},{"timestamp":"2022-05-09 14:59:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002330633}],"success":true,"cost_seconds":0.119349763}}
{"level":"info","time":"2022-05-09 14:59:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.019233934,"trace_id":"f13601fba9bc59d13499","trace_info":{"trace_id":"f13601fba9bc59d13499","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin WobfLMpXbbBtFOMvYKFhQrRH0eoRIBzOAjVWDuiOMI0=","Authorization-Date":"2022-05-09 14:59:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f13601fba9bc59d13499"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.019233416},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 14:59:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010005701}],"redis":[{"timestamp":"2022-05-09 14:59:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004486883},{"timestamp":"2022-05-09 14:59:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002298796}],"success":true,"cost_seconds":0.019233934}}
{"level":"info","time":"2022-05-09 15:00:02","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.040353654,"trace_id":"d854982516ff6a17e970","trace_info":{"trace_id":"d854982516ff6a17e970","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin LD3Oscag/bQWEwr2aqINKZvfSmO9H5Daqq7f9iRWL/0=","Authorization-Date":"2022-05-09 15:00:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d854982516ff6a17e970"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.040353301},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 15:00:02","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.01098807}],"redis":[{"timestamp":"2022-05-09 15:00:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.006359937},{"timestamp":"2022-05-09 15:00:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003206967}],"success":true,"cost_seconds":0.040353654}}
{"level":"info","time":"2022-05-09 15:01:57","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.019216029,"trace_id":"58c5225f8ba6fa2d5287","trace_info":{"trace_id":"58c5225f8ba6fa2d5287","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin NEJcS0fgMy56I62z0SRfG6XQwr7xiqMusmH1lKSYLKY=","Authorization-Date":"2022-05-09 15:01:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["58c5225f8ba6fa2d5287"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.019214954},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 15:01:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006007056}],"redis":[{"timestamp":"2022-05-09 15:01:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002152477},{"timestamp":"2022-05-09 15:01:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.006429441}],"success":true,"cost_seconds":0.019216029}}
{"level":"info","time":"2022-05-09 15:02:15","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.01092756,"trace_id":"13576b1c61092a2076ad","trace_info":{"trace_id":"13576b1c61092a2076ad","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lcgf6pE7DhFQGPsdK/pup/Q/Mim2Gk68QqUopYy0TvA=","Authorization-Date":"2022-05-09 15:02:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["13576b1c61092a2076ad"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010927061},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 15:02:15","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005064964}],"redis":[{"timestamp":"2022-05-09 15:02:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001419549},{"timestamp":"2022-05-09 15:02:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001989921}],"success":true,"cost_seconds":0.01092756}}
{"level":"info","time":"2022-05-09 15:02:19","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.030727546,"trace_id":"29252d7154ec3ba24bd2","trace_info":{"trace_id":"29252d7154ec3ba24bd2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin loITyQe/2QGl73XFTjd73z77wQ5KQX6H9k8uTUEpFaU=","Authorization-Date":"2022-05-09 15:02:19","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["29252d7154ec3ba24bd2"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.030725954},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 15:02:19","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010240199}],"redis":[{"timestamp":"2022-05-09 15:02:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002811753},{"timestamp":"2022-05-09 15:02:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.011021182}],"success":true,"cost_seconds":0.030727546}}
{"level":"info","time":"2022-05-09 16:23:29","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.186023243,"trace_id":"7a62e4b2bcd44a248d9b","trace_info":{"trace_id":"7a62e4b2bcd44a248d9b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin iJQIQ/nsfGZ1rRoKfJNYE0l/vFHqe+5xXRj1yIOYIOo=","Authorization-Date":"2022-05-09 16:23:29","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7a62e4b2bcd44a248d9b"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.186022879},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.108210088},{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0189214},{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.011259526},{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002961791},{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.016679664}],"redis":[{"timestamp":"2022-05-09 16:23:29","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.00543123},{"timestamp":"2022-05-09 16:23:29","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001942018},{"timestamp":"2022-05-09 16:23:29","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.002221957}],"success":true,"cost_seconds":0.186023243}}
{"level":"info","time":"2022-05-09 16:23:29","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.049442293,"trace_id":"e058efbeda37d6ebf37b","trace_info":{"trace_id":"e058efbeda37d6ebf37b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin I2BZvN9872TFyHGWSXz2tzXUYlJe1JDAlZkIX8ywICE=","Authorization-Date":"2022-05-09 16:23:29","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e058efbeda37d6ebf37b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.049441962},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 16:23:29","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.040396667}],"redis":[{"timestamp":"2022-05-09 16:23:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003900087},{"timestamp":"2022-05-09 16:23:29","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002279106}],"success":true,"cost_seconds":0.049442293}}
{"level":"info","time":"2022-05-09 16:26:10","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.051533483,"trace_id":"00f5dd62b3d8acc1987e","trace_info":{"trace_id":"00f5dd62b3d8acc1987e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin eZVPgOSnaOSD86G7utD44f8vyzud3XQuz4hVsrmkwSA=","Authorization-Date":"2022-05-09 16:26:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["00f5dd62b3d8acc1987e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.051532734},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-09 16:26:10","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.025009779}],"redis":[{"timestamp":"2022-05-09 16:26:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.005299337},{"timestamp":"2022-05-09 16:26:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.01314995}],"success":true,"cost_seconds":0.051533483}}
{"level":"info","time":"2022-05-11 15:18:37","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000871801,"trace_id":"8bd75cb44887adbe27c1","trace_info":{"trace_id":"8bd75cb44887adbe27c1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin RIDH6oaMJMVtYTnqTKXUwzauGIQiVqoDiMXB8nxh5jE=","Authorization-Date":"2022-05-11 15:18:37","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8bd75cb44887adbe27c1"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000871396},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000871801},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-11 15:18:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.052378319,"trace_id":"3d59958af0da7a0a4edc","trace_info":{"trace_id":"3d59958af0da7a0a4edc","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin ak75ieE6c5s3zZpHJXCUb3fKiKhsYqNo5sjIFW/iYlo=","Authorization-Date":"2022-05-11 15:18:52","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3d59958af0da7a0a4edc"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.052378119},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.018227194},{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.009400535},{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.009132284},{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002085303},{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.009180059}],"redis":[{"timestamp":"2022-05-11 15:18:52","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001581646},{"timestamp":"2022-05-11 15:18:52","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.000878665},{"timestamp":"2022-05-11 15:18:52","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.000890648}],"success":true,"cost_seconds":0.052378319}}
{"level":"info","time":"2022-05-11 15:18:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011280736,"trace_id":"7d4b068ba3adfbc40764","trace_info":{"trace_id":"7d4b068ba3adfbc40764","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Sp5wP0Q311W+q93SYjuE9IoPli0wZPFIQrUcwGHA4Jc=","Authorization-Date":"2022-05-11 15:18:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7d4b068ba3adfbc40764"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011275733},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-11 15:18:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003907085}],"redis":[{"timestamp":"2022-05-11 15:18:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002307649},{"timestamp":"2022-05-11 15:18:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002316329}],"success":true,"cost_seconds":0.011280736}}
{"level":"info","time":"2022-05-11 16:42:10","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.073894427,"trace_id":"85e9f5de603b4ef1fe18","trace_info":{"trace_id":"85e9f5de603b4ef1fe18","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin EyegiIRSgaXO++yEwZo5yRVAzQU+e7N9YVIZhpLFSDs=","Authorization-Date":"2022-05-11 16:42:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["85e9f5de603b4ef1fe18"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.073894016},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-11 16:42:10","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.050725335},{"timestamp":"2022-05-11 16:42:10","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.00687149}],"redis":[{"timestamp":"2022-05-11 16:42:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001889147},{"timestamp":"2022-05-11 16:42:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.00423279}],"success":true,"cost_seconds":0.073894427}}
{"level":"info","time":"2022-05-11 16:42:12","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.023236585,"trace_id":"7698d6567f23467b5245","trace_info":{"trace_id":"7698d6567f23467b5245","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin kdF18F7XtK0sbWEXLBArZJj1M0Zy/iTCSzD2NcYHA4U=","Authorization-Date":"2022-05-11 16:42:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7698d6567f23467b5245"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-17 06:24:28","created_user":"init","updated_at":"2022-04-17 06:24:28","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.023236362},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-11 16:42:12","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.008876158},{"timestamp":"2022-05-11 16:42:12","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.003972256}],"redis":[{"timestamp":"2022-05-11 16:42:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001563649},{"timestamp":"2022-05-11 16:42:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001108262}],"success":true,"cost_seconds":0.023236585}}
{"level":"info","time":"2022-05-11 16:42:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010537197,"trace_id":"b34361cc88e9f7de17ce","trace_info":{"trace_id":"b34361cc88e9f7de17ce","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin BI11ZvZg2y6R6gN0uZOnTCMPFOShJQMTB7zQiy6gg9Y=","Authorization-Date":"2022-05-11 16:42:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b34361cc88e9f7de17ce"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010536946},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-11 16:42:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.004093824}],"redis":[{"timestamp":"2022-05-11 16:42:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001112543},{"timestamp":"2022-05-11 16:42:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.000764045}],"success":true,"cost_seconds":0.010537197}}
{"level":"info","time":"2022-05-11 16:42:17","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00584916,"trace_id":"e1cf727b89fb0f2bc348","trace_info":{"trace_id":"e1cf727b89fb0f2bc348","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin 2OLDjykiQyZgZ2j7/QZQXv4dF0xt2L3g9jcg4/vzKeU=","Authorization-Date":"2022-05-11 16:42:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e1cf727b89fb0f2bc348"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.005848697},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-11 16:42:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000773327},{"timestamp":"2022-05-11 16:42:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001837362}],"success":true,"cost_seconds":0.00584916}}
{"level":"info","time":"2022-05-11 16:42:17","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008830575,"trace_id":"c02cce526f803ca9325e","trace_info":{"trace_id":"c02cce526f803ca9325e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin Xbu4GvTuvw6Uuc2cFA0fHSR/8WGxeSq1B3jJ3KhlSVo=","Authorization-Date":"2022-05-11 16:42:17","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c02cce526f803ca9325e"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"},{"table_name":"order","table_comment":"订单表"},{"table_name":"order1","table_comment":"订单表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.008830112},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-11 16:42:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00098202},{"timestamp":"2022-05-11 16:42:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.00147831}],"success":true,"cost_seconds":0.008830575}}
{"level":"info","time":"2022-05-11 16:42:23","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/graphql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.000234569,"trace_id":"87c1c52d8b17bf655367","trace_info":{"trace_id":"87c1c52d8b17bf655367","request":{"ttl":"un-limit","method":"GET","decoded_url":"/graphql","header":{"Authorization":"","Authorization-Date":"","Content-Type":"","Token":""},"body":""},"response":{"header":{"Content-Type":["text/html"],"Trace-Id":["87c1c52d8b17bf655367"],"Vary":["Origin"]},"body":null,"http_code":200,"http_code_msg":"OK","cost_seconds":0.000234328},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.000234569}}
{"level":"info","time":"2022-05-11 16:42:24","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.01067032,"trace_id":"cb45c4d47d62f8136228","trace_info":{"trace_id":"cb45c4d47d62f8136228","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Authorization":"","Authorization-Date":"","Content-Type":"application/json","Token":""},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Trace-Id":["cb45c4d47d62f8136228"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]},{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]}]}},"extensions":{"trace_id":"cb45c4d47d62f8136228"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010669783},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.01067032}}
{"level":"info","time":"2022-05-11 16:42:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007494979,"trace_id":"5ff6544302a401e5b9df","trace_info":{"trace_id":"5ff6544302a401e5b9df","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin lKqZRZ64HSED5YJ0ipJqwVH2XbLJlRCejWCAGVvCY/Y=","Authorization-Date":"2022-05-11 16:42:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5ff6544302a401e5b9df"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00749449},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-11 16:42:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001078234},{"timestamp":"2022-05-11 16:42:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001137715}],"success":true,"cost_seconds":0.007494979}}
{"level":"info","time":"2022-05-11 16:42:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009351796,"trace_id":"bcf9004db29d7859c1e2","trace_info":{"trace_id":"bcf9004db29d7859c1e2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin kX2MsCalPvfCtz2cO+nuCZg6IhW8jhwTANqiW4GzQDM=","Authorization-Date":"2022-05-11 16:42:28","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bcf9004db29d7859c1e2"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"},{"table_name":"order","table_comment":"订单表"},{"table_name":"order1","table_comment":"订单表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009351487},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-11 16:42:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001358579},{"timestamp":"2022-05-11 16:42:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001231375}],"success":true,"cost_seconds":0.009351796}}
{"level":"fatal","time":"2022-05-16 22:07:29","caller":"router/router.go:64","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: ; failed to connect to `host=port= user=dbname= database=`: hostname resolving error (lookup port=: no such host)","errorVerbose":"[db connection failed] Database name: ; failed to connect to `host=port= user=dbname= database=`: hostname resolving error (lookup port=: no such host)\ngithub.com/xinliangnote/go-gin-api/internal/repository/pgsql.dbConnect\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/pgsql/pgsql.go:107\ngithub.com/xinliangnote/go-gin-api/internal/repository/pgsql.New\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/pgsql/pgsql.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/router.go:62\nmain.main\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/main.go:65\nruntime.main\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/proc.go:255\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-16 22:14:53","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-16 22:16:08","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-16 22:16:24","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-16 22:18:01","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-16 22:18:07","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-16 22:22:30","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000238399,"trace_id":"2971ecb180dedf628ada","trace_info":{"trace_id":"2971ecb180dedf628ada","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8VoRu9aSTZBLwVQJlcBgGmAUEmihlSMea5ht1xnV47k=","Authorization-Date":"2022-05-16 22:22:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2971ecb180dedf628ada"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000238166},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000238399},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-16 22:22:31","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000087829,"trace_id":"64416b985f5723b4b2a0","trace_info":{"trace_id":"64416b985f5723b4b2a0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin jDVW8T7DGDbt8Xe2FSrid5xhWBMkvdOSCPwgAzXajro=","Authorization-Date":"2022-05-16 22:22:31","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["64416b985f5723b4b2a0"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000086365},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000087829},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-16 22:22:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.032773723,"trace_id":"7a0a1f74da860a3d3289","trace_info":{"trace_id":"7a0a1f74da860a3d3289","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin HRYpwyN5B867VcNdoDx3JCmJMdsrt8vzfMaccXzKWdE=","Authorization-Date":"2022-05-16 22:22:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7a0a1f74da860a3d3289"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.032773505},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.007353425},{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.007115852},{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.005321758},{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.001955825},{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.00543632}],"redis":[{"timestamp":"2022-05-16 22:22:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002498036},{"timestamp":"2022-05-16 22:22:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.000954336},{"timestamp":"2022-05-16 22:22:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.001105724}],"success":true,"cost_seconds":0.032773723}}
{"level":"info","time":"2022-05-16 22:22:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.01195512,"trace_id":"ab69b65f56777415cdef","trace_info":{"trace_id":"ab69b65f56777415cdef","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin zJul0qk4xtZc9C6fBVbh8xT6pHiG9E+c3rnGkE6Xo5A=","Authorization-Date":"2022-05-16 22:22:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ab69b65f56777415cdef"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011954833},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-16 22:22:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003791954}],"redis":[{"timestamp":"2022-05-16 22:22:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001595013},{"timestamp":"2022-05-16 22:22:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001536118}],"success":true,"cost_seconds":0.01195512}}
{"level":"fatal","time":"2022-05-17 09:36:14","caller":"router/router.go:57","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused","errorVerbose":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/router.go:55\nmain.main\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/main.go:65\nruntime.main\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/proc.go:255\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 09:37:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.002919358,"trace_id":"a82c51e75ca1e503de09","trace_info":{"trace_id":"a82c51e75ca1e503de09","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ElOJvaHp4HSB3EkK94f8nywm6gx6b8mfiUzlaj5skl0=","Authorization-Date":"2022-05-17 09:37:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a82c51e75ca1e503de09"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.00291894},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.002919358},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:30\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 09:37:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.039098365,"trace_id":"42d2c3be891228e55563","trace_info":{"trace_id":"42d2c3be891228e55563","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin pdczLi6Y5qDXQLGI0tfBUNksjgzBEmKI8aaOyROaLhM=","Authorization-Date":"2022-05-17 09:37:14","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["42d2c3be891228e55563"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.039098167},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010176406},{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.008619569},{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.005587486},{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002682773},{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.007393371}],"redis":[{"timestamp":"2022-05-17 09:37:14","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001116714},{"timestamp":"2022-05-17 09:37:14","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001330609},{"timestamp":"2022-05-17 09:37:14","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.001313557}],"success":true,"cost_seconds":0.039098365}}
{"level":"info","time":"2022-05-17 09:37:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012041869,"trace_id":"882007e6c72507f2d0cb","trace_info":{"trace_id":"882007e6c72507f2d0cb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin d4zivV/zucyiUdiMpk8nt+nDg3vbLsSsrXV4wdBZzFc=","Authorization-Date":"2022-05-17 09:37:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["882007e6c72507f2d0cb"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012041599},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 09:37:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006025507}],"redis":[{"timestamp":"2022-05-17 09:37:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002386059},{"timestamp":"2022-05-17 09:37:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001688567}],"success":true,"cost_seconds":0.012041869}}
{"level":"info","time":"2022-05-17 09:37:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007532115,"trace_id":"dd7275fb1a73e6775639","trace_info":{"trace_id":"dd7275fb1a73e6775639","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin eq182tBK6mLH3L79Uv7TnOMu4rezC1YoLM2O/MD5zCI=","Authorization-Date":"2022-05-17 09:37:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dd7275fb1a73e6775639"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.007531932},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 09:37:44","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.000973938},{"timestamp":"2022-05-17 09:37:44","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.000956022}],"redis":[{"timestamp":"2022-05-17 09:37:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001040329},{"timestamp":"2022-05-17 09:37:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.000835955}],"success":true,"cost_seconds":0.007532115}}
{"level":"info","time":"2022-05-17 09:37:47","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015154546,"trace_id":"3cb5d9eafb396e94db36","trace_info":{"trace_id":"3cb5d9eafb396e94db36","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin RVLlBPJwV+toFb/N7r1vaAVo+zzGaQEA2zeOz70IaMI=","Authorization-Date":"2022-05-17 09:37:47","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3cb5d9eafb396e94db36"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-16 14:28:15","created_user":"init","updated_at":"2022-05-16 14:28:15","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.015154288},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 09:37:47","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.006481311},{"timestamp":"2022-05-17 09:37:47","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.001864016}],"redis":[{"timestamp":"2022-05-17 09:37:47","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000912717},{"timestamp":"2022-05-17 09:37:47","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.000957846}],"success":true,"cost_seconds":0.015154546}}
{"level":"info","time":"2022-05-17 09:56:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0112134,"trace_id":"539ae3b4f84e0da10946","trace_info":{"trace_id":"539ae3b4f84e0da10946","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin dug+tbWxO9BUfHVWxn6dDNGX9EU0i2wFl7FTTzjkF7k=","Authorization-Date":"2022-05-17 09:56:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["539ae3b4f84e0da10946"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011212872},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 09:56:07","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004261527}],"redis":[{"timestamp":"2022-05-17 09:56:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001502221},{"timestamp":"2022-05-17 09:56:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001281706}],"success":true,"cost_seconds":0.0112134}}
{"level":"info","time":"2022-05-17 13:49:27","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.030437221,"trace_id":"6916184a138036af7545","trace_info":{"trace_id":"6916184a138036af7545","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin zPvgpu6DfDy/5O54VXT6Q6zR2GRfga0JY24imSFIkpQ=","Authorization-Date":"2022-05-17 13:49:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6916184a138036af7545"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.030436925},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 13:49:27","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.020566625}],"redis":[{"timestamp":"2022-05-17 13:49:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002112604},{"timestamp":"2022-05-17 13:49:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.004414535}],"success":true,"cost_seconds":0.030437221}}
{"level":"info","time":"2022-05-17 13:49:54","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010560146,"trace_id":"0fa84168956a5e66ce4b","trace_info":{"trace_id":"0fa84168956a5e66ce4b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin FEyz24Cxm9jQgZmn7R7fBJLvEE2ptBHaUercgzzPe88=","Authorization-Date":"2022-05-17 13:49:54","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0fa84168956a5e66ce4b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010559745},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 13:49:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004595819}],"redis":[{"timestamp":"2022-05-17 13:49:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001457648},{"timestamp":"2022-05-17 13:49:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002511672}],"success":true,"cost_seconds":0.010560146}}
{"level":"info","time":"2022-05-17 14:04:30","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":417.225061338,"trace_id":"c504f65ff206721f43c9","trace_info":{"trace_id":"c504f65ff206721f43c9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Ry48/dVnhwVERxFBbjy3hlSBxVhya16f7imT1R0sqPc=","Authorization-Date":"2022-05-17 13:57:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c504f65ff206721f43c9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":417.225047074},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 13:57:33","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004618894}],"redis":[{"timestamp":"2022-05-17 13:57:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003048676},{"timestamp":"2022-05-17 13:57:33","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001842486}],"success":true,"cost_seconds":417.225061338}}
{"level":"info","time":"2022-05-17 14:09:50","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011239008,"trace_id":"9053729156a1568df5e0","trace_info":{"trace_id":"9053729156a1568df5e0","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin NEwiffDu1mziA6nHdOZ8HWd7EK0yPKC5jg1UXZ6+56E=","Authorization-Date":"2022-05-17 14:09:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9053729156a1568df5e0"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011238612},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-17 14:09:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003457416},{"timestamp":"2022-05-17 14:09:50","handle":"del","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003405059}],"success":true,"cost_seconds":0.011239008}}
{"level":"info","time":"2022-05-17 14:09:51","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.067292989,"trace_id":"f1a16b9b51e1a6ac33f1","trace_info":{"trace_id":"f1a16b9b51e1a6ac33f1","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin Bb6hcGxE3loQQ2c06CrSn+Yp3Z4cKrJzriModNZNUzY=","Authorization-Date":"2022-05-17 14:09:51","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f1a16b9b51e1a6ac33f1"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.067292625},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:09:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.012975378},{"timestamp":"2022-05-17 14:09:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.020090722},{"timestamp":"2022-05-17 14:09:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.010572},{"timestamp":"2022-05-17 14:09:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003097562},{"timestamp":"2022-05-17 14:09:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.012473789}],"redis":[{"timestamp":"2022-05-17 14:09:51","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002571503},{"timestamp":"2022-05-17 14:09:51","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.002024124},{"timestamp":"2022-05-17 14:09:51","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.002241386}],"success":true,"cost_seconds":0.067292989}}
{"level":"info","time":"2022-05-17 14:10:01","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":9.36766693,"trace_id":"9386fcef916c9236ae71","trace_info":{"trace_id":"9386fcef916c9236ae71","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin RPLXEtRZwR9WzWesWf2vcyl5OP63MfhP31VIEfv2tgY=","Authorization-Date":"2022-05-17 14:09:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9386fcef916c9236ae71"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":9.367654114},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:09:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005541043}],"redis":[{"timestamp":"2022-05-17 14:09:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002182385},{"timestamp":"2022-05-17 14:09:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001837261}],"success":true,"cost_seconds":9.36766693}}
{"level":"fatal","time":"2022-05-17 14:12:27","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:13:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.002607088,"trace_id":"0169bbec65230190575a","trace_info":{"trace_id":"0169bbec65230190575a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 86ZmvORV7mBFg7Ez2/146MnNhnENXF8g46d77p9BXMo=","Authorization-Date":"2022-05-17 14:13:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0169bbec65230190575a"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.002606544},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.002607088},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:30\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:13:18","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.002109996,"trace_id":"19f578aa573a3be216ea","trace_info":{"trace_id":"19f578aa573a3be216ea","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin GrZGWwuih/JYCN2l/uGJFapXRIcKPoWcg/wgaMKrwIc=","Authorization-Date":"2022-05-17 14:13:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["19f578aa573a3be216ea"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.002109431},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.002109996},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:30\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:14:03","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.002185652,"trace_id":"6960c3bf9fe399c0a7df","trace_info":{"trace_id":"6960c3bf9fe399c0a7df","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin WeeKBlZPbWWBRNoSSKjeoxdp3kn4a+EmsoOP7uXz8PI=","Authorization-Date":"2022-05-17 14:14:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6960c3bf9fe399c0a7df"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.002185288},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.002185652},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:30\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:14:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.050125324,"trace_id":"a67c99336548342ab416","trace_info":{"trace_id":"a67c99336548342ab416","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin Bhoa/rnA7yeEuhhcNfTaql8CJyfem2DdhMRWJBHD1z4=","Authorization-Date":"2022-05-17 14:14:05","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a67c99336548342ab416"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.050124979},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0108158},{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.010354269},{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.004510591},{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.004247468},{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.00992492}],"redis":[{"timestamp":"2022-05-17 14:14:05","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001866963},{"timestamp":"2022-05-17 14:14:05","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001627014},{"timestamp":"2022-05-17 14:14:05","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.005419762}],"success":true,"cost_seconds":0.050125324}}
{"level":"info","time":"2022-05-17 14:14:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012165368,"trace_id":"dc9dbfb2be1c17c7ee10","trace_info":{"trace_id":"dc9dbfb2be1c17c7ee10","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin OZlcaZKEzs2/UF4OV8hbYU5YxUfaWONYD3IUTBa1jbo=","Authorization-Date":"2022-05-17 14:14:05","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dc9dbfb2be1c17c7ee10"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012164961},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:14:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004907391}],"redis":[{"timestamp":"2022-05-17 14:14:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002254365},{"timestamp":"2022-05-17 14:14:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0018865}],"success":true,"cost_seconds":0.012165368}}
{"level":"info","time":"2022-05-17 14:15:26","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012557756,"trace_id":"e2ab363b8ee8657ac543","trace_info":{"trace_id":"e2ab363b8ee8657ac543","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin HxQW405fGoDPTPlacFttQzp4UVEm++GNVnutxPUis8s=","Authorization-Date":"2022-05-17 14:15:26","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e2ab363b8ee8657ac543"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012557184},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:15:26","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004293161}],"redis":[{"timestamp":"2022-05-17 14:15:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002711367},{"timestamp":"2022-05-17 14:15:26","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001688882}],"success":true,"cost_seconds":0.012557756}}
{"level":"info","time":"2022-05-17 14:15:50","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009692614,"trace_id":"3573f21764e7b61eb794","trace_info":{"trace_id":"3573f21764e7b61eb794","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin z6utEjwUcpynT6UUE6HbnQ+2gHTdhwI+e591f8oToSk=","Authorization-Date":"2022-05-17 14:15:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3573f21764e7b61eb794"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009692016},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-17 14:15:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002679899},{"timestamp":"2022-05-17 14:15:50","handle":"del","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002433499}],"success":true,"cost_seconds":0.009692614}}
{"level":"info","time":"2022-05-17 14:15:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":400,"business_code":20206,"success":false,"cost_seconds":0.028468277,"trace_id":"eaccf35967e56c89f4df","trace_info":{"trace_id":"eaccf35967e56c89f4df","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin IVCVISF68IxElj8mBmnUb3SEun0FEWXRxuW8NJwf0Qc=","Authorization-Date":"2022-05-17 14:15:52","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eaccf35967e56c89f4df"],"Vary":["Origin"]},"body":null,"business_code":20206,"business_code_msg":"登录失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.028467764},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:15:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005983495},{"timestamp":"2022-05-17 14:15:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003463122},{"timestamp":"2022-05-17 14:15:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.003361628},{"timestamp":"2022-05-17 14:15:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.004414},{"timestamp":"2022-05-17 14:15:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":0,"cost_seconds":0.00535371}],"redis":[{"timestamp":"2022-05-17 14:15:52","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002974334},{"timestamp":"2022-05-17 14:15:52","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.002208314}],"success":false,"cost_seconds":0.028468277},"error":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist","errorVerbose":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_login.go:127\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:15:54","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":400,"business_code":20206,"success":false,"cost_seconds":0.026391293,"trace_id":"4cd3d7d15bfb574d1a22","trace_info":{"trace_id":"4cd3d7d15bfb574d1a22","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin qJ/S9ETznrpjSTXXovIYkEE4l4iu8VpIBAiKIGNZHlQ=","Authorization-Date":"2022-05-17 14:15:54","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4cd3d7d15bfb574d1a22"],"Vary":["Origin"]},"body":null,"business_code":20206,"business_code_msg":"登录失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.026390685},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:15:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005720302},{"timestamp":"2022-05-17 14:15:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003429389},{"timestamp":"2022-05-17 14:15:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.003531325},{"timestamp":"2022-05-17 14:15:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.005002597},{"timestamp":"2022-05-17 14:15:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":0,"cost_seconds":0.004182152}],"redis":[{"timestamp":"2022-05-17 14:15:54","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001977563},{"timestamp":"2022-05-17 14:15:54","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.002051234}],"success":false,"cost_seconds":0.026391293},"error":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist","errorVerbose":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_login.go:127\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:15:57","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":400,"business_code":20206,"success":false,"cost_seconds":0.025864605,"trace_id":"28c178aa965c857ba643","trace_info":{"trace_id":"28c178aa965c857ba643","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin baErHnFgt7MfvbIwxPdamnEEx3NP6Vc7xhQiE1gIYIA=","Authorization-Date":"2022-05-17 14:15:57","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["28c178aa965c857ba643"],"Vary":["Origin"]},"body":null,"business_code":20206,"business_code_msg":"登录失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.025863996},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:15:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00462064},{"timestamp":"2022-05-17 14:15:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.004306167},{"timestamp":"2022-05-17 14:15:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.004781217},{"timestamp":"2022-05-17 14:15:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.002882234},{"timestamp":"2022-05-17 14:15:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":0,"cost_seconds":0.004380405}],"redis":[{"timestamp":"2022-05-17 14:15:57","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002564939},{"timestamp":"2022-05-17 14:15:57","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.00184562}],"success":false,"cost_seconds":0.025864605},"error":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist","errorVerbose":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_login.go:127\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:16:06","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":400,"business_code":20206,"success":false,"cost_seconds":0.026770008,"trace_id":"a9dcd56dcd794b154adb","trace_info":{"trace_id":"a9dcd56dcd794b154adb","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin LEo+4fFEDFdgW8H24MgwfFIsPupc3LaSIDDvmD+xqa4=","Authorization-Date":"2022-05-17 14:16:06","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a9dcd56dcd794b154adb"],"Vary":["Origin"]},"body":null,"business_code":20206,"business_code_msg":"登录失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.026769186},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:16:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004232989},{"timestamp":"2022-05-17 14:16:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.005207038},{"timestamp":"2022-05-17 14:16:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.00336739},{"timestamp":"2022-05-17 14:16:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003750808},{"timestamp":"2022-05-17 14:16:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":0,"cost_seconds":0.005559217}],"redis":[{"timestamp":"2022-05-17 14:16:06","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.00176673},{"timestamp":"2022-05-17 14:16:06","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.002086004}],"success":false,"cost_seconds":0.026770008},"error":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist","errorVerbose":"Error 1146: Table 'go_gin_api.menu_action' doesn't exist\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_login.go:127\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-17 14:19:16","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-17 14:19:36","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:19:37","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000142309,"trace_id":"4be497ef083951321bb4","trace_info":{"trace_id":"4be497ef083951321bb4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin rFVscoUmsaX2BQ8MU4NAYQ/0KoFkhG/LJHJnNAFH0KU=","Authorization-Date":"2022-05-17 14:19:37","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4be497ef083951321bb4"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000141404},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000142309},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:20:01","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.044311434,"trace_id":"1d8d9913f3d01032b45a","trace_info":{"trace_id":"1d8d9913f3d01032b45a","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin 1ZNUVJLMKf175J1hCpYuRmDwNGDXMl4Uvzw4llHxshg=","Authorization-Date":"2022-05-17 14:20:01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1d8d9913f3d01032b45a"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.044310814},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010643795},{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0082667},{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.00629296},{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.006627701},{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.005744883}],"redis":[{"timestamp":"2022-05-17 14:20:01","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002124994},{"timestamp":"2022-05-17 14:20:01","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001762279},{"timestamp":"2022-05-17 14:20:01","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.001646648}],"success":true,"cost_seconds":0.044311434}}
{"level":"info","time":"2022-05-17 14:20:01","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010652444,"trace_id":"8740daef1cd120b64cfb","trace_info":{"trace_id":"8740daef1cd120b64cfb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin nMZvORS6OQze2WPdUHZldCXwLXGuMoRNYZWcCK6ZwCI=","Authorization-Date":"2022-05-17 14:20:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8740daef1cd120b64cfb"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010651821},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:20:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003928872}],"redis":[{"timestamp":"2022-05-17 14:20:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001797895},{"timestamp":"2022-05-17 14:20:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001921924}],"success":true,"cost_seconds":0.010652444}}
{"level":"fatal","time":"2022-05-17 14:28:15","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-17 14:28:33","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:28:33","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.009182591,"trace_id":"ced2b2b3aee0f2d70eda","trace_info":{"trace_id":"ced2b2b3aee0f2d70eda","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin vFrDJQlSmsTGDe8v2aNYlxI8i5axSmkwPeCevGSAAF8=","Authorization-Date":"2022-05-17 14:28:33","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ced2b2b3aee0f2d70eda"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.009182003},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.009182591},"error":"请先登录","errorVerbose":"请先登录\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:30\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:28:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.035094595,"trace_id":"2ff430d9e769cd412166","trace_info":{"trace_id":"2ff430d9e769cd412166","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin z1nyQHkjHqhM7yfIyOEyox2gMDETmZtl+O861KP9v/I=","Authorization-Date":"2022-05-17 14:28:39","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2ff430d9e769cd412166"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.035094272},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.008161886},{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.004700644},{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.005336671},{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.003608168},{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.006412894}],"redis":[{"timestamp":"2022-05-17 14:28:39","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002436551},{"timestamp":"2022-05-17 14:28:39","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001664418},{"timestamp":"2022-05-17 14:28:39","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.001654522}],"success":true,"cost_seconds":0.035094595}}
{"level":"info","time":"2022-05-17 14:28:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007308669,"trace_id":"5adb1a85fa940f7b0d8c","trace_info":{"trace_id":"5adb1a85fa940f7b0d8c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin iSPfZohe8zCydptj8Bn9hpPIzSMNXqPuy4LSJM/HUQY=","Authorization-Date":"2022-05-17 14:28:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5adb1a85fa940f7b0d8c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.007308188},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:28:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002806691}],"redis":[{"timestamp":"2022-05-17 14:28:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001059595},{"timestamp":"2022-05-17 14:28:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001513704}],"success":true,"cost_seconds":0.007308669}}
{"level":"info","time":"2022-05-17 14:29:02","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015442017,"trace_id":"8f958a90fd84f450e725","trace_info":{"trace_id":"8f958a90fd84f450e725","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin vTtUkKaDEarKnCHQIspT9Bx50dcHn/pNEdRYmf6NwlI=","Authorization-Date":"2022-05-17 14:29:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8f958a90fd84f450e725"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.015441553},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:29:02","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006663686}],"redis":[{"timestamp":"2022-05-17 14:29:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002996421},{"timestamp":"2022-05-17 14:29:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003649329}],"success":true,"cost_seconds":0.015442017}}
{"level":"fatal","time":"2022-05-17 14:33:43","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:33:43","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010184598,"trace_id":"b68eec9ad7e721f6a0d7","trace_info":{"trace_id":"b68eec9ad7e721f6a0d7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin XA+t2AI9SMvfQq4Mi9Wi3B2IlgWXYw5eAcgm7FNVBE8=","Authorization-Date":"2022-05-17 14:33:43","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b68eec9ad7e721f6a0d7"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010184041},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:33:43","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003496053}],"redis":[{"timestamp":"2022-05-17 14:33:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002391992},{"timestamp":"2022-05-17 14:33:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001646646}],"success":true,"cost_seconds":0.010184598}}
{"level":"info","time":"2022-05-17 14:33:59","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.019264892,"trace_id":"93d1a7b9107401eaf1b7","trace_info":{"trace_id":"93d1a7b9107401eaf1b7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin //I6VyfzuqpS6s/qFvvkh83pGhzTsrQ0fjDWwpg3Lr8=","Authorization-Date":"2022-05-17 14:33:59","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["93d1a7b9107401eaf1b7"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-05-17 06:28:20","created_user":"init","updated_at":"2022-05-17 06:28:20","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.01926453},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:33:59","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.006500115},{"timestamp":"2022-05-17 14:33:59","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.002412097}],"redis":[{"timestamp":"2022-05-17 14:33:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001763006},{"timestamp":"2022-05-17 14:33:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.002285751}],"success":true,"cost_seconds":0.019264892}}
{"level":"fatal","time":"2022-05-17 14:34:58","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:34:58","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011210126,"trace_id":"02558ef0384f1550a85d","trace_info":{"trace_id":"02558ef0384f1550a85d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin sWcP0h012vQSkbkr3U09tq/TgTRw399Fke3aalCCMN4=","Authorization-Date":"2022-05-17 14:34:58","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["02558ef0384f1550a85d"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011209619},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:34:58","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003742258}],"redis":[{"timestamp":"2022-05-17 14:34:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001590271},{"timestamp":"2022-05-17 14:34:58","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.00241024}],"success":true,"cost_seconds":0.011210126}}
{"level":"info","time":"2022-05-17 14:35:25","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.069943096,"trace_id":"3b9926469193491a90f6","trace_info":{"trace_id":"3b9926469193491a90f6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 21J/jB2Z3at/eLuMlAK6vBluxELoGgQliO0ryNlTSX4=","Authorization-Date":"2022-05-17 14:35:25","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3b9926469193491a90f6"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.069942304},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:35:25","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.028425503}],"redis":[{"timestamp":"2022-05-17 14:35:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.018094799},{"timestamp":"2022-05-17 14:35:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.007394639}],"success":true,"cost_seconds":0.069943096}}
{"level":"info","time":"2022-05-17 14:35:35","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.042707025,"trace_id":"0d8f5978f6f2e918ef85","trace_info":{"trace_id":"0d8f5978f6f2e918ef85","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin HI6Fh2vtsewudWKwLjT5dwIgTHJRHwo0SUd39s6Lfdg=","Authorization-Date":"2022-05-17 14:35:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0d8f5978f6f2e918ef85"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.04270567},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:35:35","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.011319505}],"redis":[{"timestamp":"2022-05-17 14:35:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003826566},{"timestamp":"2022-05-17 14:35:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.022732979}],"success":true,"cost_seconds":0.042707025}}
{"level":"fatal","time":"2022-05-17 14:35:52","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:35:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012772306,"trace_id":"59779d9cbd52fbe50f57","trace_info":{"trace_id":"59779d9cbd52fbe50f57","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 9Y4wuvQ6up4CjVKuCI1Psezq6FqX2sIu7/S18fSHPyg=","Authorization-Date":"2022-05-17 14:35:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["59779d9cbd52fbe50f57"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012771887},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:35:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003949782}],"redis":[{"timestamp":"2022-05-17 14:35:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002176871},{"timestamp":"2022-05-17 14:35:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003395345}],"success":true,"cost_seconds":0.012772306}}
{"level":"info","time":"2022-05-17 14:36:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.021030355,"trace_id":"4dca199de2cb800c7734","trace_info":{"trace_id":"4dca199de2cb800c7734","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin np1YPi8xX8j/ZDJwsppsOaANmlwhRCZBbyCaz9qjOao=","Authorization-Date":"2022-05-17 14:36:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4dca199de2cb800c7734"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.021029753},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:36:08","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005547958}],"redis":[{"timestamp":"2022-05-17 14:36:08","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002053453},{"timestamp":"2022-05-17 14:36:08","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.005356276}],"success":true,"cost_seconds":0.021030355}}
{"level":"fatal","time":"2022-05-17 14:36:08","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:36:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00972237,"trace_id":"38f92c65f41f203ef60b","trace_info":{"trace_id":"38f92c65f41f203ef60b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin np1YPi8xX8j/ZDJwsppsOaANmlwhRCZBbyCaz9qjOao=","Authorization-Date":"2022-05-17 14:36:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["38f92c65f41f203ef60b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009721793},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:36:08","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004040332}],"redis":[{"timestamp":"2022-05-17 14:36:08","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001275243},{"timestamp":"2022-05-17 14:36:08","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001484853}],"success":true,"cost_seconds":0.00972237}}
{"level":"fatal","time":"2022-05-17 14:36:26","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:36:27","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008997254,"trace_id":"98be2dfabc9d2aa8add9","trace_info":{"trace_id":"98be2dfabc9d2aa8add9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin P+SWKLplCNVeLz+gNyq8dqqDdE4pf5+9FncfSRj9U/s=","Authorization-Date":"2022-05-17 14:36:27","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["98be2dfabc9d2aa8add9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.008996771},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:36:27","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00330371}],"redis":[{"timestamp":"2022-05-17 14:36:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002057673},{"timestamp":"2022-05-17 14:36:27","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001598283}],"success":true,"cost_seconds":0.008997254}}
{"level":"fatal","time":"2022-05-17 14:36:38","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 14:36:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.020088496,"trace_id":"10fb596d1939bb530e0b","trace_info":{"trace_id":"10fb596d1939bb530e0b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin p1Mp31ynmMS3oJH8vBajg/B+qFDqt94HsS9UpWxywKw=","Authorization-Date":"2022-05-17 14:36:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["10fb596d1939bb530e0b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.02008806},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:36:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.007460988}],"redis":[{"timestamp":"2022-05-17 14:36:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.005222058},{"timestamp":"2022-05-17 14:36:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.00266975}],"success":true,"cost_seconds":0.020088496}}
{"level":"info","time":"2022-05-17 14:36:46","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009256266,"trace_id":"4fce0036729a263644cd","trace_info":{"trace_id":"4fce0036729a263644cd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin WJCEhjKpLN4OnYL6V7sj3aFQbjiTG6ku494pKDfNy7g=","Authorization-Date":"2022-05-17 14:36:46","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4fce0036729a263644cd"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009256002},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:36:46","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.001411173},{"timestamp":"2022-05-17 14:36:46","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.000958771}],"redis":[{"timestamp":"2022-05-17 14:36:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001152603},{"timestamp":"2022-05-17 14:36:46","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.001262054}],"success":true,"cost_seconds":0.009256266}}
{"level":"info","time":"2022-05-17 14:41:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":211.380536088,"trace_id":"cf326df36e6dc7bed2a0","trace_info":{"trace_id":"cf326df36e6dc7bed2a0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin QC/Cbo2VPouxF0/HzfO+11Ycra1C8qULa1FkV8A1D3A=","Authorization-Date":"2022-05-17 14:37:37","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cf326df36e6dc7bed2a0"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":211.380535476},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:37:37","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004583034}],"redis":[{"timestamp":"2022-05-17 14:37:37","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004698741},{"timestamp":"2022-05-17 14:38:32","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.026033756}],"success":true,"cost_seconds":211.380536088}}
{"level":"info","time":"2022-05-17 14:41:18","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":400,"business_code":20213,"success":false,"cost_seconds":0.049395933,"trace_id":"9d48647f46becf274a9f","trace_info":{"trace_id":"9d48647f46becf274a9f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 0Gfm6xguzxR2DD+ZBTgU3Pxc/fHO9r8xEfyVGQbUrl0=","Authorization-Date":"2022-05-17 14:41:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9d48647f46becf274a9f"],"Vary":["Origin"]},"body":null,"business_code":20213,"business_code_msg":"获取个人信息失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.049395102},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:41:18","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":0,"cost_seconds":0.040656566}],"redis":[{"timestamp":"2022-05-17 14:41:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004678796}],"success":false,"cost_seconds":0.049395933},"error":"Error 1146: Table 'go_gin_api.admin' doesn't exist","errorVerbose":"Error 1146: Table 'go_gin_api.admin' doesn't exist\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Detail.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_detail.go:45\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:44:41","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":162.051559073,"trace_id":"dd819392a169d80ace44","trace_info":{"trace_id":"dd819392a169d80ace44","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin VEY2g7+6VK4hcKKlNh35JUpQDU7V9xmZJx4Gnlw4UwQ=","Authorization-Date":"2022-05-17 14:41:59","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dd819392a169d80ace44"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":162.051553767},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:41:59","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006655434}],"redis":[{"timestamp":"2022-05-17 14:41:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002900125},{"timestamp":"2022-05-17 14:42:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.01376576}],"success":true,"cost_seconds":162.051559073}}
{"level":"info","time":"2022-05-17 14:44:41","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.02138279,"trace_id":"d2637fb7e107b15da890","trace_info":{"trace_id":"d2637fb7e107b15da890","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin 2E7SZK2gE9X4nT8S4ewIgh5e37HgkKysyNE94VwvtpQ=","Authorization-Date":"2022-05-17 14:44:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d2637fb7e107b15da890"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.021381996},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-17 14:44:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0045901},{"timestamp":"2022-05-17 14:44:41","handle":"del","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004675174}],"success":true,"cost_seconds":0.02138279}}
{"level":"info","time":"2022-05-17 14:44:41","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/logout","http_code":400,"business_code":20207,"success":false,"cost_seconds":0.022981644,"trace_id":"2a133618ebee8858c3a3","trace_info":{"trace_id":"2a133618ebee8858c3a3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Authorization":"admin 3JZu6k9yyV7bCYM2nkaT2SvQ32g4wuN9Rvcm65Y+CKE=","Authorization-Date":"2022-05-17 14:44:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2a133618ebee8858c3a3"],"Vary":["Origin"]},"body":null,"business_code":20207,"business_code_msg":"退出失败","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.022978109},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-05-17 14:44:41","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004590743},{"timestamp":"2022-05-17 14:44:41","handle":"del","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.005867359}],"success":false,"cost_seconds":0.022981644},"error":"cache del err","errorVerbose":"cache del err\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Logout.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/api/admin/func_logout.go:36\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 14:50:45","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":358.764831158,"trace_id":"8683f39a33dfcfa7e09f","trace_info":{"trace_id":"8683f39a33dfcfa7e09f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin Y8iFpDEgdNXv6xn6w5ccwcT5da0z0SujHLD8ZuFlUV4=","Authorization-Date":"2022-05-17 14:44:47","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8683f39a33dfcfa7e09f"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":358.764830589},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:44:47","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005025694},{"timestamp":"2022-05-17 14:44:47","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.005707355},{"timestamp":"2022-05-17 14:44:47","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.0053615},{"timestamp":"2022-05-17 14:46:30","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.00632291},{"timestamp":"2022-05-17 14:46:30","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (27,26,25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":49,"cost_seconds":0.006622403}],"redis":[{"timestamp":"2022-05-17 14:44:47","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.001885409},{"timestamp":"2022-05-17 14:46:11","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":26,\"pid\":4,\"name\":\"PgSQL生成数据表 CURD\",\"link\":\"/generator/pgsql/gorm\",\"icon\":\"\"},{\"id\":27,\"pid\":4,\"name\":\"PgSQL生成控制器方法\",\"link\":\"/generator/pgsql/gorm/execute\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.001825684},{"timestamp":"2022-05-17 14:50:45","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"},{\"Id\":49,\"MenuId\":27,\"Method\":\"POST\",\"Api\":\"/generator/pgsql/gorm/execute\"}]","ttl":1440,"cost_seconds":0.00588678}],"success":true,"cost_seconds":358.764831158}}
{"level":"info","time":"2022-05-17 14:50:48","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":3.119177406,"trace_id":"7f2b4ecaacbbf726f798","trace_info":{"trace_id":"7f2b4ecaacbbf726f798","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin 1S4eq9N0yqQg+30VHBAGWzfJH8ynACFnY+5loQ4VAVM=","Authorization-Date":"2022-05-17 14:50:41","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7f2b4ecaacbbf726f798"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":3.119176615},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:50:45","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.008488308},{"timestamp":"2022-05-17 14:50:45","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.004082479},{"timestamp":"2022-05-17 14:50:45","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.00696284},{"timestamp":"2022-05-17 14:50:48","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.029997866},{"timestamp":"2022-05-17 14:50:48","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (27,26,25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":49,"cost_seconds":0.018852144}],"redis":[{"timestamp":"2022-05-17 14:50:45","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.002285599},{"timestamp":"2022-05-17 14:50:48","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":26,\"pid\":4,\"name\":\"PgSQL生成数据表 CURD\",\"link\":\"/generator/pgsql/gorm\",\"icon\":\"\"},{\"id\":27,\"pid\":4,\"name\":\"PgSQL生成控制器方法\",\"link\":\"/generator/pgsql/gorm/execute\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.011920885},{"timestamp":"2022-05-17 14:50:48","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"},{\"Id\":49,\"MenuId\":27,\"Method\":\"POST\",\"Api\":\"/generator/pgsql/gorm/execute\"}]","ttl":1440,"cost_seconds":0.007085532}],"success":true,"cost_seconds":3.119177406}}
{"level":"info","time":"2022-05-17 14:50:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":3.446303169,"trace_id":"804ee18f65c9cd2acb38","trace_info":{"trace_id":"804ee18f65c9cd2acb38","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin i+8+g149jBSN7ckvIRy0Z8oVpm0DWcEj34QvMhwHIqw=","Authorization-Date":"2022-05-17 14:50:49","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["804ee18f65c9cd2acb38"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":3.44611344},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:50:49","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004178218}],"redis":[{"timestamp":"2022-05-17 14:50:49","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003673132},{"timestamp":"2022-05-17 14:50:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.004173363}],"success":true,"cost_seconds":3.446303169}}
{"level":"info","time":"2022-05-17 14:52:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":3.619442138,"trace_id":"0c92f68a35d55d7be88f","trace_info":{"trace_id":"0c92f68a35d55d7be88f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin WTbM1wketjMbGehd2J+Uy1XzGchx14wxJW1bjP+dnCg=","Authorization-Date":"2022-05-17 14:52:01","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0c92f68a35d55d7be88f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":3.619439613},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:52:01","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005565346}],"redis":[{"timestamp":"2022-05-17 14:52:01","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003948337},{"timestamp":"2022-05-17 14:52:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.014294846}],"success":true,"cost_seconds":3.619442138}}
{"level":"info","time":"2022-05-17 14:56:25","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008627622,"trace_id":"fd791c24bed8287cac71","trace_info":{"trace_id":"fd791c24bed8287cac71","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 6+/YIp8Y9u7L66Lp5+bBKoXpwhls1JAT8WZG6Db8mmA=","Authorization-Date":"2022-05-17 14:56:25","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fd791c24bed8287cac71"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00862707},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 14:56:25","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003898747}],"redis":[{"timestamp":"2022-05-17 14:56:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001245288},{"timestamp":"2022-05-17 14:56:25","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.00171379}],"success":true,"cost_seconds":0.008627622}}
{"level":"info","time":"2022-05-17 15:01:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010874962,"trace_id":"671e89443e5331ad797c","trace_info":{"trace_id":"671e89443e5331ad797c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 7pTA5IN5aYc/xRFxeuUbq0g2Ci4J+ArzcONVICtInsM=","Authorization-Date":"2022-05-17 15:01:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["671e89443e5331ad797c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.01087458},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:01:14","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005551481}],"redis":[{"timestamp":"2022-05-17 15:01:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001539144},{"timestamp":"2022-05-17 15:01:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001492904}],"success":true,"cost_seconds":0.010874962}}
{"level":"info","time":"2022-05-17 15:02:04","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010773539,"trace_id":"42bf577b75b48220551a","trace_info":{"trace_id":"42bf577b75b48220551a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8ZqrEaIj99pMa8tElI7NeoLeShV2Pb6c4ogKSWANesk=","Authorization-Date":"2022-05-17 15:02:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["42bf577b75b48220551a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010772941},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:02:04","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004425923}],"redis":[{"timestamp":"2022-05-17 15:02:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001537675},{"timestamp":"2022-05-17 15:02:04","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.00180245}],"success":true,"cost_seconds":0.010773539}}
{"level":"info","time":"2022-05-17 15:02:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.017650194,"trace_id":"36cc427cefe9f71acab2","trace_info":{"trace_id":"36cc427cefe9f71acab2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ZCqRpdYcU80R2nH4/b4rfjX25fukhJ04FnMBUtvzArk=","Authorization-Date":"2022-05-17 15:02:05","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["36cc427cefe9f71acab2"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.017625214},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:02:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006369943}],"redis":[{"timestamp":"2022-05-17 15:02:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003548066},{"timestamp":"2022-05-17 15:02:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.004501946}],"success":true,"cost_seconds":0.017650194}}
{"level":"info","time":"2022-05-17 15:02:12","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008862642,"trace_id":"d5f38154be1ffba1db4d","trace_info":{"trace_id":"d5f38154be1ffba1db4d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8lEYtp1xVjkNrVzvQKgFxN95nvIoBtwVSIiAIav/qoI=","Authorization-Date":"2022-05-17 15:02:12","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d5f38154be1ffba1db4d"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.008862011},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:02:12","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003165379}],"redis":[{"timestamp":"2022-05-17 15:02:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001459035},{"timestamp":"2022-05-17 15:02:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001894862}],"success":true,"cost_seconds":0.008862642}}
{"level":"info","time":"2022-05-17 15:02:18","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00918265,"trace_id":"0aa3bf4eac57bb3e273f","trace_info":{"trace_id":"0aa3bf4eac57bb3e273f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin hTiSbRCG1qHkH8Mrd7jaq8a5TOyDPo577mOtzmd6s8o=","Authorization-Date":"2022-05-17 15:02:18","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0aa3bf4eac57bb3e273f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009182058},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:02:18","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003782938}],"redis":[{"timestamp":"2022-05-17 15:02:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001327312},{"timestamp":"2022-05-17 15:02:18","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001759655}],"success":true,"cost_seconds":0.00918265}}
{"level":"info","time":"2022-05-17 15:06:24","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.016476644,"trace_id":"810a809c58fdd2643634","trace_info":{"trace_id":"810a809c58fdd2643634","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 0QRuwYmqdiEz2ncMPoDo9LlM5ourM+XtnCmF9mmiw+4=","Authorization-Date":"2022-05-17 15:06:24","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["810a809c58fdd2643634"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.01647599},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:06:24","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.008694995}],"redis":[{"timestamp":"2022-05-17 15:06:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00308479},{"timestamp":"2022-05-17 15:06:24","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002182844}],"success":true,"cost_seconds":0.016476644}}
{"level":"info","time":"2022-05-17 15:08:50","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00984129,"trace_id":"5a677dfac0a8908a1ad8","trace_info":{"trace_id":"5a677dfac0a8908a1ad8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin gk2d+DxMkiUOi8Bl7iyuu0zJyddHhLK4YLhO/ukQ40Q=","Authorization-Date":"2022-05-17 15:08:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5a677dfac0a8908a1ad8"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009840906},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:08:50","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004058795}],"redis":[{"timestamp":"2022-05-17 15:08:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00167161},{"timestamp":"2022-05-17 15:08:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001444428}],"success":true,"cost_seconds":0.00984129}}
{"level":"info","time":"2022-05-17 15:18:15","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008287295,"trace_id":"95e4cfb9a31d49f0e816","trace_info":{"trace_id":"95e4cfb9a31d49f0e816","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin qDaS6JdMyOpDZl4qe2bbOPtGnMcp+EwB7MUfYAEP6IA=","Authorization-Date":"2022-05-17 15:18:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["95e4cfb9a31d49f0e816"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.008286879},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:18:15","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002913861}],"redis":[{"timestamp":"2022-05-17 15:18:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001420796},{"timestamp":"2022-05-17 15:18:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001336105}],"success":true,"cost_seconds":0.008287295}}
{"level":"info","time":"2022-05-17 15:19:50","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.021671417,"trace_id":"32cf853dc7d52d157418","trace_info":{"trace_id":"32cf853dc7d52d157418","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 8Jz7vu0aa1pdnDUZHNyMa76QGnGLgiUweQZBFTnoyfw=","Authorization-Date":"2022-05-17 15:19:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["32cf853dc7d52d157418"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.021670645},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:19:50","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00854116}],"redis":[{"timestamp":"2022-05-17 15:19:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00245119},{"timestamp":"2022-05-17 15:19:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001772558}],"success":true,"cost_seconds":0.021671417}}
{"level":"info","time":"2022-05-17 15:19:53","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012718473,"trace_id":"3dda0428310fff68dc96","trace_info":{"trace_id":"3dda0428310fff68dc96","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 3YxxbiheXeQ2LabGE4D01hFbuLtoxMDjgmh78mVfSFs=","Authorization-Date":"2022-05-17 15:19:53","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3dda0428310fff68dc96"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012717969},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 15:19:53","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006039938}],"redis":[{"timestamp":"2022-05-17 15:19:53","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002120885},{"timestamp":"2022-05-17 15:19:53","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002145741}],"success":true,"cost_seconds":0.012718473}}
{"level":"info","time":"2022-05-17 17:35:13","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.014070604,"trace_id":"37d210b34b32f8a75ec6","trace_info":{"trace_id":"37d210b34b32f8a75ec6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin pRijmA97IgT6sli3v/THpFYlDKVBZfDqzZsemLLsBbk=","Authorization-Date":"2022-05-17 17:35:13","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["37d210b34b32f8a75ec6"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.014069793},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 17:35:13","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00520451}],"redis":[{"timestamp":"2022-05-17 17:35:13","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.003120253},{"timestamp":"2022-05-17 17:35:13","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002683898}],"success":true,"cost_seconds":0.014070604}}
{"level":"info","time":"2022-05-17 17:36:03","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.009250526,"trace_id":"02d996c2f09780e3a566","trace_info":{"trace_id":"02d996c2f09780e3a566","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin nTnuv6qgeyrjUzzZwSf++GFvvB28aAqAFFqRjzIIky8=","Authorization-Date":"2022-05-17 17:36:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["02d996c2f09780e3a566"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.009250056},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 17:36:03","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00339976}],"redis":[{"timestamp":"2022-05-17 17:36:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001765701},{"timestamp":"2022-05-17 17:36:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001647582}],"success":true,"cost_seconds":0.009250526}}
{"level":"info","time":"2022-05-17 17:43:19","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.023646656,"trace_id":"0c216708c0015825023e","trace_info":{"trace_id":"0c216708c0015825023e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin jsQsKrjpo2o3PB0iseGgPLm39CR2ykeICAKMMiuyK80=","Authorization-Date":"2022-05-17 17:43:19","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0c216708c0015825023e"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.023644363},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 17:43:19","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.011634775}],"redis":[{"timestamp":"2022-05-17 17:43:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.006292838},{"timestamp":"2022-05-17 17:43:19","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002220454}],"success":true,"cost_seconds":0.023646656}}
{"level":"info","time":"2022-05-17 17:49:23","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.017197891,"trace_id":"1097d2c29d9e2b898a21","trace_info":{"trace_id":"1097d2c29d9e2b898a21","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin rweMBQl/4ceOpVu8nfR2b6VvQOCRK2yf7AGWBM3yYkg=","Authorization-Date":"2022-05-17 17:49:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1097d2c29d9e2b898a21"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.01719731},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 17:49:23","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.009877904}],"redis":[{"timestamp":"2022-05-17 17:49:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001667435},{"timestamp":"2022-05-17 17:49:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002947079}],"success":true,"cost_seconds":0.017197891}}
{"level":"info","time":"2022-05-17 17:52:11","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000243404,"trace_id":"cd5e416bb37ff80247ed","trace_info":{"trace_id":"cd5e416bb37ff80247ed","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin uQR7YP8ODPOp+fZiND3eah8xhYdtn1CVgJ+iU8y8P/w=","Authorization-Date":"2022-05-17 17:52:11","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cd5e416bb37ff80247ed"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000241526},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000243404},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"info","time":"2022-05-17 17:56:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.023781321,"trace_id":"945855069efcba62b2b1","trace_info":{"trace_id":"945855069efcba62b2b1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin J/go45RsLTDhBL0D02sYAqqmDba+SYW065uYbzDxxk4=","Authorization-Date":"2022-05-17 17:56:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["945855069efcba62b2b1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.023780596},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 17:56:44","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.01025209}],"redis":[{"timestamp":"2022-05-17 17:56:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004927327},{"timestamp":"2022-05-17 17:56:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002986449}],"success":true,"cost_seconds":0.023781321}}
{"level":"info","time":"2022-05-17 19:23:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.014494023,"trace_id":"ffea8926d8c72fc40a03","trace_info":{"trace_id":"ffea8926d8c72fc40a03","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin CmdL8kWx04KsF1X4P9eP6g8PNckGWxERlcwq9ekEzSI=","Authorization-Date":"2022-05-17 19:23:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ffea8926d8c72fc40a03"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.014493438},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:23:39","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.007369922}],"redis":[{"timestamp":"2022-05-17 19:23:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001945643},{"timestamp":"2022-05-17 19:23:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002386268}],"success":true,"cost_seconds":0.014494023}}
{"level":"info","time":"2022-05-17 19:33:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.02068331,"trace_id":"598c78ba8fa14880cdd1","trace_info":{"trace_id":"598c78ba8fa14880cdd1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin H191pW5k23YCxJ1aPKytPNgfidgiqsipvsDRjSkUfAs=","Authorization-Date":"2022-05-17 19:33:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["598c78ba8fa14880cdd1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.020683046},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:33:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.013667901}],"redis":[{"timestamp":"2022-05-17 19:33:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002614496},{"timestamp":"2022-05-17 19:33:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001976012}],"success":true,"cost_seconds":0.02068331}}
{"level":"info","time":"2022-05-17 19:34:51","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000170386,"trace_id":"84682c4a54bd38286b02","trace_info":{"trace_id":"84682c4a54bd38286b02","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin o3kDK4kkwPinHZ9mAvTVEJv1/Ie0WhIbU2weNpGTONg=","Authorization-Date":"2022-05-17 19:34:51","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["84682c4a54bd38286b02"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000170155},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000170386},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-17 19:34:53","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 19:35:05","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.014081097,"trace_id":"0218f507236b03340f0a","trace_info":{"trace_id":"0218f507236b03340f0a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin mXph3/Jeosn61z0aqmMLLf4OUxhdpsJR/7oPr3kGcpk=","Authorization-Date":"2022-05-17 19:35:05","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0218f507236b03340f0a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.014080418},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:35:05","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005761913}],"redis":[{"timestamp":"2022-05-17 19:35:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002392698},{"timestamp":"2022-05-17 19:35:05","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003314089}],"success":true,"cost_seconds":0.014081097}}
{"level":"info","time":"2022-05-17 19:35:06","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.014483636,"trace_id":"befa1a40d400b6d672e9","trace_info":{"trace_id":"befa1a40d400b6d672e9","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Jq+jDEM8pTe2f0PkBGgjKaZWy8qKeyp/ZqZrMIDsmBw=","Authorization-Date":"2022-05-17 19:35:06","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["befa1a40d400b6d672e9"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.014483402},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:35:06","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.007246611}],"redis":[{"timestamp":"2022-05-17 19:35:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002713862},{"timestamp":"2022-05-17 19:35:06","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001872965}],"success":true,"cost_seconds":0.014483636}}
{"level":"info","time":"2022-05-17 19:35:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.011769145,"trace_id":"498d41da45c87f3cc756","trace_info":{"trace_id":"498d41da45c87f3cc756","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 49b++CNUZQhDsK9Nzt1c97tGG9jGeUUkN2uOvjW/xJc=","Authorization-Date":"2022-05-17 19:35:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["498d41da45c87f3cc756"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.011768836},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:35:07","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004356684}],"redis":[{"timestamp":"2022-05-17 19:35:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001810063},{"timestamp":"2022-05-17 19:35:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003247874}],"success":true,"cost_seconds":0.011769145}}
{"level":"info","time":"2022-05-17 19:37:04","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000327605,"trace_id":"40b5039a14486a726067","trace_info":{"trace_id":"40b5039a14486a726067","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin fkAIUN4ILa2yTgCy0u+oRTN+r2PKBtO+KrOVPG+89WU=","Authorization-Date":"2022-05-17 19:37:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["40b5039a14486a726067"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000326632},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000327605},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-17 19:37:11","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 19:37:15","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010708066,"trace_id":"c2a16027a2a2786b50ce","trace_info":{"trace_id":"c2a16027a2a2786b50ce","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 0EMG99vKDV+20OFuYX9ds6H7y+7LhyAKjqXZRqm33+I=","Authorization-Date":"2022-05-17 19:37:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c2a16027a2a2786b50ce"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010707652},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:37:15","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004376312}],"redis":[{"timestamp":"2022-05-17 19:37:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001703796},{"timestamp":"2022-05-17 19:37:15","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001553988}],"success":true,"cost_seconds":0.010708066}}
{"level":"info","time":"2022-05-17 19:44:21","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000226352,"trace_id":"5f6beeb9c2985f1658f8","trace_info":{"trace_id":"5f6beeb9c2985f1658f8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin CP3M3+pHM7FP1FtaeVqLjRPDycb06S2rZdpQc8CUgWI=","Authorization-Date":"2022-05-17 19:44:21","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5f6beeb9c2985f1658f8"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000224845},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000226352},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/lileibiao/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:2879\nnet/http.(*conn).serve\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/net/http/server.go:1930\nruntime.goexit\n\t/Users/lileibiao/go1.17.5/go1.17.5/src/runtime/asm_amd64.s:1581\n"}
{"level":"fatal","time":"2022-05-17 19:44:24","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-05-17 19:44:56","caller":"go-gin/main.go:77","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-05-17 19:44:57","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012736051,"trace_id":"70f1294edf299856ea50","trace_info":{"trace_id":"70f1294edf299856ea50","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin pbmKkd9GOsrXVRyNb1zf9bW729yLdNIAV7v2CRayF3Y=","Authorization-Date":"2022-05-17 19:44:57","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["70f1294edf299856ea50"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.01273554},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:44:57","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.003470783}],"redis":[{"timestamp":"2022-05-17 19:44:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004343689},{"timestamp":"2022-05-17 19:44:57","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002592814}],"success":true,"cost_seconds":0.012736051}}
{"level":"info","time":"2022-05-17 19:45:51","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.028944244,"trace_id":"4c2cf621f3f2af1dbf47","trace_info":{"trace_id":"4c2cf621f3f2af1dbf47","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin oTuIsBCUbLyO2c/bB+djHJemAf9WwHaeGLRLtaXZtG4=","Authorization-Date":"2022-05-17 19:45:51","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4c2cf621f3f2af1dbf47"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.028943563},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 19:45:51","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.012036948}],"redis":[{"timestamp":"2022-05-17 19:45:51","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.007491566},{"timestamp":"2022-05-17 19:45:51","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002459229}],"success":true,"cost_seconds":0.028944244}}
{"level":"info","time":"2022-05-17 20:04:20","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.017030568,"trace_id":"7557cb351b9a36974982","trace_info":{"trace_id":"7557cb351b9a36974982","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin T0BpiN1vKknhl8q5fG33mG/WZkKO8ocxU1gRQVQqy6w=","Authorization-Date":"2022-05-17 20:04:20","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7557cb351b9a36974982"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.017029903},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:04:20","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.007446963}],"redis":[{"timestamp":"2022-05-17 20:04:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002074517},{"timestamp":"2022-05-17 20:04:20","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001523193}],"success":true,"cost_seconds":0.017030568}}
{"level":"info","time":"2022-05-17 20:11:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.010510773,"trace_id":"67264ff217dfdf266a32","trace_info":{"trace_id":"67264ff217dfdf266a32","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin oEI+NAGYfSiMhonFLxvPi+Qd1gZa1/thIq68zP7FUP0=","Authorization-Date":"2022-05-17 20:11:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["67264ff217dfdf266a32"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.010510305},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:11:52","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004391187}],"redis":[{"timestamp":"2022-05-17 20:11:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001453748},{"timestamp":"2022-05-17 20:11:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001585476}],"success":true,"cost_seconds":0.010510773}}
{"level":"info","time":"2022-05-17 20:15:59","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.006698472,"trace_id":"af8c62ecff32dde27341","trace_info":{"trace_id":"af8c62ecff32dde27341","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Ctay4T9zSZt6cz74cGrAAJMixBBXRsYIKs4B5yVXa5E=","Authorization-Date":"2022-05-17 20:15:59","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["af8c62ecff32dde27341"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.006697996},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:15:59","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002439585}],"redis":[{"timestamp":"2022-05-17 20:15:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001111385},{"timestamp":"2022-05-17 20:15:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001082708}],"success":true,"cost_seconds":0.006698472}}
{"level":"info","time":"2022-05-17 20:49:54","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.020309545,"trace_id":"e23025e7f7ba1bef4d5b","trace_info":{"trace_id":"e23025e7f7ba1bef4d5b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 2jpbI/ScN2QzUrhij+brLPYvf1L5zsFUK8vaZgGk2o8=","Authorization-Date":"2022-05-17 20:49:54","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e23025e7f7ba1bef4d5b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.020309316},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:49:54","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.00891372}],"redis":[{"timestamp":"2022-05-17 20:49:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002794307},{"timestamp":"2022-05-17 20:49:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.003081243}],"success":true,"cost_seconds":0.020309545}}
{"level":"info","time":"2022-05-17 20:52:02","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012777331,"trace_id":"8191fe1366a0cfdf67cc","trace_info":{"trace_id":"8191fe1366a0cfdf67cc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin WWIwqaCI9DDbHqT446s4nZVZ6WXgYnnrfBqbE+cepKc=","Authorization-Date":"2022-05-17 20:52:02","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8191fe1366a0cfdf67cc"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012774996},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:52:02","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005411904}],"redis":[{"timestamp":"2022-05-17 20:52:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002043687},{"timestamp":"2022-05-17 20:52:02","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002392407}],"success":true,"cost_seconds":0.012777331}}
{"level":"info","time":"2022-05-17 20:53:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012069365,"trace_id":"98f94abc6696efd6441a","trace_info":{"trace_id":"98f94abc6696efd6441a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin oqom64bM4nqzhq7M3tyQrk7LGx/EjzaR+KA+GAxbg50=","Authorization-Date":"2022-05-17 20:53:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["98f94abc6696efd6441a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012068997},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:53:42","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005009395}],"redis":[{"timestamp":"2022-05-17 20:53:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002774138},{"timestamp":"2022-05-17 20:53:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.00158752}],"success":true,"cost_seconds":0.012069365}}
{"level":"info","time":"2022-05-17 20:53:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012880142,"trace_id":"818caa772756bfbc3adc","trace_info":{"trace_id":"818caa772756bfbc3adc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin AhlADubqSM7UsE+07yQ02/ay+EjsYwNNomSOCVb+xRc=","Authorization-Date":"2022-05-17 20:53:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["818caa772756bfbc3adc"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012879855},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 20:53:44","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004757392}],"redis":[{"timestamp":"2022-05-17 20:53:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002699121},{"timestamp":"2022-05-17 20:53:44","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001993086}],"success":true,"cost_seconds":0.012880142}}
{"level":"info","time":"2022-05-17 21:01:03","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.018141071,"trace_id":"c1ec839da68ae602bda0","trace_info":{"trace_id":"c1ec839da68ae602bda0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 1OzNAKV9WPryiORpRG/k5w1l+222hZuh6x/lPus38Gw=","Authorization-Date":"2022-05-17 21:01:03","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c1ec839da68ae602bda0"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0181407},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 21:01:03","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010274965}],"redis":[{"timestamp":"2022-05-17 21:01:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002929937},{"timestamp":"2022-05-17 21:01:03","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002656808}],"success":true,"cost_seconds":0.018141071}}
{"level":"info","time":"2022-05-17 21:09:10","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.013853472,"trace_id":"4c7369f0957bdfe9b671","trace_info":{"trace_id":"4c7369f0957bdfe9b671","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin f7hheXFOIayeQsGybz4k/7XTHipe3d+YzKy4FdxRvWE=","Authorization-Date":"2022-05-17 21:09:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4c7369f0957bdfe9b671"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.013853055},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 21:09:10","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006412773}],"redis":[{"timestamp":"2022-05-17 21:09:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002229362},{"timestamp":"2022-05-17 21:09:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002148967}],"success":true,"cost_seconds":0.013853472}}
{"level":"info","time":"2022-05-17 21:47:56","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015725788,"trace_id":"ed5d4063466465895ea2","trace_info":{"trace_id":"ed5d4063466465895ea2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 2tujETUk7JiT5L/5OOhJWs18PnW4zpfTYusyIjXvpcQ=","Authorization-Date":"2022-05-17 21:47:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ed5d4063466465895ea2"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.015725459},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 21:47:56","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006586633}],"redis":[{"timestamp":"2022-05-17 21:47:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002977639},{"timestamp":"2022-05-17 21:47:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.002849822}],"success":true,"cost_seconds":0.015725788}}
{"level":"info","time":"2022-05-17 21:53:56","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.016271898,"trace_id":"eea174f7a9afdbbabcbf","trace_info":{"trace_id":"eea174f7a9afdbbabcbf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ZLVF1RqUN+mNbvdNklbR1j3tP1Y4Kd7okQ/mPS9WivY=","Authorization-Date":"2022-05-17 21:53:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eea174f7a9afdbbabcbf"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.016271442},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-05-17 21:53:56","stack":"/Users/lileibiao/go/src/DEMO/go-gin/go-gin/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.006510503}],"redis":[{"timestamp":"2022-05-17 21:53:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.004493037},{"timestamp":"2022-05-17 21:53:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001760898}],"success":true,"cost_seconds":0.016271898}}
{"level":"fatal","time":"2022-09-23 10:59:37","caller":"router/router.go:55","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused","errorVerbose":"[db connection failed] Database name: go_gin_api; dial tcp 127.0.0.1:3306: connect: connection refused\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/router.go:53\nmain.main\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/main.go:66\nruntime.main\n\t/Users/zh/sdk/go1.16/src/runtime/proc.go:225\nruntime.goexit\n\t/Users/zh/sdk/go1.16/src/runtime/asm_amd64.s:1371\n"}
{"level":"fatal","time":"2022-09-23 11:00:08","caller":"router/router.go:55","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; Error 1045: Access denied for user 'root'@'172.17.0.1' (using password: YES)","errorVerbose":"[db connection failed] Database name: go_gin_api; Error 1045: Access denied for user 'root'@'172.17.0.1' (using password: YES)\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/router.go:53\nmain.main\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/main.go:66\nruntime.main\n\t/Users/zh/sdk/go1.16/src/runtime/proc.go:225\nruntime.goexit\n\t/Users/zh/sdk/go1.16/src/runtime/asm_amd64.s:1371\n"}
{"level":"fatal","time":"2022-09-23 11:03:51","caller":"router/router.go:55","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; Error 1045: Access denied for user 'root'@'172.17.0.1' (using password: YES)","errorVerbose":"[db connection failed] Database name: go_gin_api; Error 1045: Access denied for user 'root'@'172.17.0.1' (using password: YES)\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/router.go:53\nmain.main\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/main.go:66\nruntime.main\n\t/Users/zh/sdk/go1.16/src/runtime/proc.go:225\nruntime.goexit\n\t/Users/zh/sdk/go1.16/src/runtime/asm_amd64.s:1371\n"}
{"level":"fatal","time":"2022-09-23 11:05:43","caller":"router/router.go:55","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: go_gin_api; Error 1049: Unknown database 'go_gin_api'","errorVerbose":"[db connection failed] Database name: go_gin_api; Error 1049: Unknown database 'go_gin_api'\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.dbConnect\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:104\ngithub.com/xinliangnote/go-gin-api/internal/repository/mysql.New\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/mysql.go:45\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/router.go:53\nmain.main\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/main.go:66\nruntime.main\n\t/Users/zh/sdk/go1.16/src/runtime/proc.go:225\nruntime.goexit\n\t/Users/zh/sdk/go1.16/src/runtime/asm_amd64.s:1371\n"}
{"level":"fatal","time":"2022-09-23 11:11:10","caller":"router/router.go:62","msg":"new db err","domain":"go-gin-api[fat]","error":"[db connection failed] Database name: my_db; failed to connect to `host=127.0.0.1 user=postgres database=my_db`: server error (FATAL: database \"my_db\" does not exist (SQLSTATE 3D000))","errorVerbose":"[db connection failed] Database name: my_db; failed to connect to `host=127.0.0.1 user=postgres database=my_db`: server error (FATAL: database \"my_db\" does not exist (SQLSTATE 3D000))\ngithub.com/xinliangnote/go-gin-api/internal/repository/pgsql.dbConnect\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/pgsql/pgsql.go:107\ngithub.com/xinliangnote/go-gin-api/internal/repository/pgsql.New\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/pgsql/pgsql.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router.NewHTTPServer\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/router.go:60\nmain.main\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/main.go:66\nruntime.main\n\t/Users/zh/sdk/go1.16/src/runtime/proc.go:225\nruntime.goexit\n\t/Users/zh/sdk/go1.16/src/runtime/asm_amd64.s:1371\n"}
{"level":"info","time":"2022-09-23 16:45:44","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000208792,"trace_id":"aea7a16f8e03d2729395","trace_info":{"trace_id":"aea7a16f8e03d2729395","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin hGGEbypwSqBYx9etIfhUNYH/Mhwaok+yloJxJ/wCgTg=","Authorization-Date":"2022-09-23 16:45:44","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aea7a16f8e03d2729395"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000208584},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000208792},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:2947\nnet/http.(*conn).serve\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:1991\nruntime.goexit\n\t/Users/zh/sdk/go1.19/src/runtime/asm_arm64.s:1165\n"}
{"level":"info","time":"2022-09-23 16:46:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.058895375,"trace_id":"5f8c36c419e8a3de2170","trace_info":{"trace_id":"5f8c36c419e8a3de2170","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin D2eHOsJdFVtwbSIYOq4J7nVECH7iOeL+/0kRUMaa1hg=","Authorization-Date":"2022-09-23 16:46:28","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5f8c36c419e8a3de2170"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.058893667},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0' AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.014629417},{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.006416375},{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":27,"cost_seconds":0.004738166},{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":27,"cost_seconds":0.003965584},{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (27,26,25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":49,"cost_seconds":0.004299667}],"redis":[{"timestamp":"2022-09-23 16:46:28","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.013590333},{"timestamp":"2022-09-23 16:46:28","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":26,\"pid\":4,\"name\":\"PgSQL生成数据表 CURD\",\"link\":\"/generator/pgsql/gorm\",\"icon\":\"\"},{\"id\":27,\"pid\":4,\"name\":\"PgSQL生成控制器方法\",\"link\":\"/generator/pgsql/gorm/execute\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.00413325},{"timestamp":"2022-09-23 16:46:28","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"},{\"Id\":49,\"MenuId\":27,\"Method\":\"POST\",\"Api\":\"/generator/pgsql/gorm/execute\"}]","ttl":1440,"cost_seconds":0.005416792}],"success":true,"cost_seconds":0.058895375}}
{"level":"info","time":"2022-09-23 16:46:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007206291,"trace_id":"cd53e600f7b1027afb93","trace_info":{"trace_id":"cd53e600f7b1027afb93","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin uXb/5Tw8P/gBw5HjvydjEdl5Pwnjz1+ehGvwSfG9z4Q=","Authorization-Date":"2022-09-23 16:46:28","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cd53e600f7b1027afb93"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.007205666},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-09-23 16:46:28","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002014916}],"redis":[{"timestamp":"2022-09-23 16:46:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002271417},{"timestamp":"2022-09-23 16:46:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.000739}],"success":true,"cost_seconds":0.007206291}}
{"level":"error","time":"2022-09-23 16:58:26","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 91 [running]:\nruntime/debug.Stack()\n\t/Users/zh/sdk/go1.19/src/runtime/debug/stack.go:24 +0x64\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1()\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:370 +0x100\npanic({0x1057bb4e0, 0x1071b20b0})\n\t/Users/zh/sdk/go1.19/src/runtime/panic.go:884 +0x204\ngithub.com/xinliangnote/go-gin-api/internal/services/admin.(*service).Detail(0x14000414c40, {0x105904b70, 0x140000108c8}, 0x140019a4820)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/services/admin/service_detail.go:47 +0x83c\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1({0x105904b70, 0x140000108c8})\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/api/admin/func_login.go:56 +0x2b8\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0x140002b6700)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:212 +0xc0\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0x140002b6700)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:541 +0x270\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0x140002b6700)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:523 +0x244\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0x140002b6700)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:327 +0x6c\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x140000036c0, 0x140002b6700)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x548\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x140000036c0, {0x1058f6a70?, 0x140003e30a0}, 0x1400013dc00)\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x1c8\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0x0?, {0x1058f6a70?, 0x140003e30a0?}, 0x1045ae534?)\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:232 +0x28\nnet/http.serverHandler.ServeHTTP({0x1058f31a0?}, {0x1058f6a70, 0x140003e30a0}, 0x1400013dc00)\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:2947 +0x2c4\nnet/http.(*conn).serve(0x1400193caa0, {0x1058f7a18, 0x14000523320})\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:1991 +0x560\ncreated by net/http.(*Server).Serve\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:3102 +0x444\n"}
{"level":"error","time":"2022-09-23 16:58:26","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-09-23 16:58:26","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.001988292,"trace_id":"b54eeababc23898b113b","trace_info":{"trace_id":"b54eeababc23898b113b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin Yd0k2WvNXd82ZnZVBSJtK/NBhl+ArqZ1xr01YZnB83c=","Authorization-Date":"2022-09-23 16:58:26","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b54eeababc23898b113b"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.001987208},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.001988292}}
{"level":"info","time":"2022-09-23 16:58:35","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012234416,"trace_id":"2ac20196a77e6fe0d01a","trace_info":{"trace_id":"2ac20196a77e6fe0d01a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin 91y+LrDQlqTzRx2IU6qtOc6iwS3M0agnxv3r5PQ6eLw=","Authorization-Date":"2022-09-23 16:58:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2ac20196a77e6fe0d01a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012233875},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-09-23 16:58:35","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002955583}],"redis":[{"timestamp":"2022-09-23 16:58:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001188458},{"timestamp":"2022-09-23 16:58:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.001021375}],"success":true,"cost_seconds":0.012234416}}
{"level":"info","time":"2022-09-23 16:58:38","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.016905625,"trace_id":"a4935c07f4c7dbcf2444","trace_info":{"trace_id":"a4935c07f4c7dbcf2444","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin K9Pfjq8Edzt9fNUtaXanLtufu9PqkGq9ysCHSWRV+GY=","Authorization-Date":"2022-09-23 16:58:38","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a4935c07f4c7dbcf2444"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":26,"pid":4,"name":"PgSQL生成数据表 CURD","link":"/generator/pgsql/gorm","icon":""},{"id":27,"pid":4,"name":"PgSQL生成控制器方法","link":"/generator/pgsql/gorm/execute","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.016904958},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-09-23 16:58:38","stack":"/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005156125}],"redis":[{"timestamp":"2022-09-23 16:58:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000807709},{"timestamp":"2022-09-23 16:58:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.009130042}],"success":true,"cost_seconds":0.016905625}}
{"level":"fatal","time":"2022-09-26 15:47:24","caller":"go-gin-demo-master/main.go:78","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"fatal","time":"2022-09-26 15:47:39","caller":"go-gin-demo-master/main.go:78","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2022-09-26 15:55:04","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0003905,"trace_id":"70b835acfbd171399797","trace_info":{"trace_id":"70b835acfbd171399797","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin ybT4MumfCkxeGhoI3BHe+vb2yg4PGIgIUKe09BdP5Dg=","Authorization-Date":"2022-09-26 15:55:04","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["70b835acfbd171399797"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000390292},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0003905},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:2947\nnet/http.(*conn).serve\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:1991\nruntime.goexit\n\t/Users/zh/sdk/go1.19/src/runtime/asm_arm64.s:1165\n"}
{"level":"info","time":"2022-09-26 15:55:15","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000333625,"trace_id":"b332ca339a593dfb2254","trace_info":{"trace_id":"b332ca339a593dfb2254","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin OYeoE5TlqwuU8MxzevuV954Bt2rOgWv0WMU3BGtaOiQ=","Authorization-Date":"2022-09-26 15:55:15","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b332ca339a593dfb2254"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0002795},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000333625},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/zh/go/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/zh/sdk/go1.16/demo/go-gin-demo-master/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:2947\nnet/http.(*conn).serve\n\t/Users/zh/sdk/go1.19/src/net/http/server.go:1991\nruntime.goexit\n\t/Users/zh/sdk/go1.19/src/runtime/asm_arm64.s:1165\n"}
